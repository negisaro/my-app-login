import{a as V}from"./chunk-MDGGSHQD.js";import{a as Y}from"./chunk-VV7WCDBE.js";import{a as Q}from"./chunk-NUCSRQZZ.js";import{B as m,Ba as _,D as l,Da as $,E as u,I as C,K as v,N as r,O as t,P as s,Q as F,R,S as w,W as M,X as n,Y as S,Z as E,d as K,ea as A,ma as k,n as N,na as j,o as f,qa as B,s as p,t as g,w as L,wa as T,x as D,xa as O,ya as P,za as q}from"./chunk-O6WPUTJ7.js";var I=K(Q());var x=class i{_newUserEventEmitter=new m;_idUserEventEmitter=new m;_findUserByIdEventEmitter=new m;_selectUserEventEmitter=new m;_errorsUserFormEventEmitter=new m;_pageUsersEventEmitter=new m;_handlerLoginEventEmitter=new m;constructor(){}get handlerLoginEventEmitter(){return this._handlerLoginEventEmitter}get pageUsersEventEmitter(){return this._pageUsersEventEmitter}get errorsUserFormEventEmitter(){return this._errorsUserFormEventEmitter}get selectUserEventEmitter(){return this._selectUserEventEmitter}get findUserByIdEventEmitter(){return this._findUserByIdEventEmitter}get newUserEventEmitter(){return this._newUserEventEmitter}get idUserEventEmitter(){return this._idUserEventEmitter}static \u0275fac=function(e){return new(e||i)};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};function X(i,o){i&1&&(r(0,"div",2),n(1,` NO hay Usurios que mostrar
`),t())}function Z(i,o){if(i&1){let e=F();r(0,"tbody")(1,"tr",16)(2,"td",17),n(3),t(),r(4,"td",17),n(5),t(),r(6,"td",17),n(7),t(),r(8,"td",18),n(9),t(),r(10,"td",18),n(11),t(),r(12,"th")(13,"button",19),n(14,"Update"),t()(),r(15,"th")(16,"button",20),R("click",function(){let d=L(e).$implicit,J=w(2);return D(J.onDeleteUser(d.id))}),n(17,"Delete"),t()()()()}if(i&2){let e=o.$implicit,a=o.index;l(3),E(" ",a+1,""),l(2),E(" ",e.name,""),l(2),E(" ",e.lastName,""),l(2),S(e.username),l(2),S(e.correoElectronico)}}function ee(i,o){if(i&1&&(r(0,"span",3),n(1,"Listado de Usuarios"),t(),s(2,"hr",4),r(3,"div",5)(4,"div",6)(5,"div",7)(6,"div",8)(7,"table",9)(8,"thead",10)(9,"tr")(10,"th",11),n(11,"#"),t(),r(12,"th",11),n(13,"Nombres"),t(),r(14,"th",11),n(15,"Apellidos"),t(),r(16,"th",11),n(17,"Usuario"),t(),r(18,"th",12),n(19,"Email"),t(),r(20,"th",13),n(21,"Acciones"),t()()(),C(22,Z,18,5,"tbody",14),t()(),s(23,"shared-paginator",15),t()()()),i&2){let e=w();l(22),v("ngForOf",e.users),l(),v("paginator",e.paginator)("url","/dashboard/user/list-user/page")}}var h=class i{constructor(o,e,a,d){this.userService=o;this.router=e;this.sharingData=a;this.route=d;this.router.getCurrentNavigation()?.extras.state&&(this.users=this.router.getCurrentNavigation()?.extras.state.users,this.paginator=this.router.getCurrentNavigation()?.extras.state.paginator)}users=[];paginator={};ngOnInit(){this.userService.getUser().subscribe(o=>this.users=o),this.pageUsersEvent()}pageUsersEvent(){(this.users==null||this.users==null||this.users.length==0)&&this.route.paramMap.subscribe(o=>{let e=+(o.get("page")||"0");console.log("hola soy la page"+e),this.userService.getPageable(e).subscribe(a=>{console.log(a),this.users=[],this.paginator=a,this.sharingData.pageUsersEventEmitter.emit({users:this.users,paginator:this.paginator})})})}onDeleteUser(o){I.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el usuario sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(e=>{e.isConfirmed&&(this.userService.deleteProductById(o).subscribe(()=>{this.router.navigate(["/dashboard/user/list-user"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/user/list-user"],{state:{}})})}),I.default.fire({title:"Eliminado!",text:"Usuario eliminado con exito.",icon:"success"}))})}static \u0275fac=function(e){return new(e||i)(u(V),u(P),u(x),u(T))};static \u0275cmp=p({type:i,selectors:[["user-list-user"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"text-light"],[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[3,"paginator","url"],[1,"border-b","border-neutral-200","dark:border-white/10"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"whitespace-nowrap","px-6","py-4","text-center"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(e&1&&C(0,X,2,0,"div",1)(1,ee,24,3,"ng-template",null,0,A),e&2){let d=M(2);v("ngIf",a.users.length===0)("ngIfElse",d)}},dependencies:[k,j,Y]})};var b=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["user-add-user"]],decls:39,vars:0,consts:[["autocomplete","on",1,"login100-form"],[1,"login100-form-title","p-b-49"],[1,"wrap-input100","m-b-23"],[1,"label-input100"],["type","text","formControlName","name","placeholder","Nombres",1,"input100"],[1,"focus-input100"],["type","text","formControlName","lastName","placeholder","Apellidos",1,"input100"],["type","text","formControlName","username","placeholder","Username",1,"input100"],["type","email","formControlName","correoElectronico","placeholder","Email",1,"input100"],[1,"wrap-input100"],["type","password","formControlName","password","placeholder","Ingrese su contrase\xF1a",1,"input100"],[1,"text-right","p-t-8","p-b-31"],[1,"container-login100-form-btn"],[1,"wrap-login100-form-btn"],[1,"login100-form-bgbtn"],["type","submit",1,"login100-form-btn"],[1,"flex-col-c","p-t-60"],[1,"txt1","p-b-17"],["routerLink","/auth/login",1,"txt2"]],template:function(e,a){e&1&&(r(0,"form",0)(1,"span",1),n(2," Registrar Cuenta "),t(),r(3,"div",2)(4,"span",3),n(5,"Nombres"),t(),s(6,"input",4)(7,"span",5),t(),r(8,"div",2)(9,"span",3),n(10,"Apellidos"),t(),s(11,"input",6)(12,"span",5),t(),r(13,"div",2)(14,"span",3),n(15,"Username"),t(),s(16,"input",7)(17,"span",5),t(),r(18,"div",2)(19,"span",3),n(20,"Email"),t(),s(21,"input",8)(22,"span",5),t(),r(23,"div",9)(24,"span",3),n(25,"Contrase\xF1a"),t(),s(26,"input",10)(27,"span",5),t(),s(28,"div",11),r(29,"div",12)(30,"div",13),s(31,"div",14),r(32,"button",15),n(33," Registrar cuenta "),t()()(),r(34,"div",16)(35,"span",17),n(36," \xBFYa tienes una cuenta? "),t(),r(37,"a",18),n(38," Ingresa aqui "),t()()())},dependencies:[q]})};var U=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["user-layout-user"]],decls:1,vars:0,template:function(e,a){e&1&&s(0,"router-outlet")},dependencies:[O]})};var te=[{path:"",component:U},{path:"list-user",component:h},{path:"add-user",component:b},{path:"**",redirectTo:"home"}],y=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=g({type:i});static \u0275inj=f({imports:[_.forChild(te),_]})};var H=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=g({type:i});static \u0275inj=f({imports:[B,$,y]})};export{H as UserModule};
