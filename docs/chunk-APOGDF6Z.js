import{a as _}from"./chunk-3SAN4RQ4.js";import{a as U,b as H,c as W,d as J,e as K,g as Q,i as X,m as Y,n as ee}from"./chunk-I7A4Q7BR.js";import{a as te}from"./chunk-P2QTSFM2.js";import{c as ie,d as oe,e as ne}from"./chunk-6GE3IOBI.js";import{Ba as w,D as a,Da as re,E as f,I as p,J as m,M as i,N as e,O as d,P as M,Q as x,R as s,V as R,W as o,Y as c,ca as O,d as I,ea as j,fa as B,ma as V,na as v,o as b,oa as G,qa as z,r as N,s as u,t as y,w as T,x as L,xa as Z,y as q,ya as h,z as D,za as $}from"./chunk-Z2VWX25V.js";var k=class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=u({type:t,selectors:[["propietario-layout-propietario"]],decls:1,vars:0,template:function(r,l){r&1&&d(0,"router-outlet")},dependencies:[Z]})};var A=I(te());function ce(t,n){t&1&&(i(0,"div",2),o(1,` NO hay Propietarios que mostrar
`),e())}function ue(t,n){if(t&1){let r=M();i(0,"tbody")(1,"tr",15)(2,"td",16),o(3),e(),i(4,"td",16),o(5),e(),i(6,"td",16),o(7),e(),i(8,"td",16),o(9),e(),i(10,"td",16),o(11),e(),i(12,"td",16),o(13),e(),i(14,"td",16),o(15),e(),i(16,"td",16),o(17),e(),i(18,"td",16),o(19),e(),i(20,"td",16),o(21),O(22,"date"),e(),i(23,"th")(24,"button",17),o(25,"Update"),e()(),i(26,"th")(27,"button",18),x("click",function(){let g=T(r).$implicit,pe=s(2);return L(pe.onDeletePropietario(g.id))}),o(28,"Delete"),e()()()()}if(t&2){let r=n.$implicit,l=n.index;a(3),c(" ",l+1,""),a(2),c(" ",r.documento,""),a(2),c(" ",r.primerNombre,""),a(2),c(" ",r.segundoNombre,""),a(2),c(" ",r.primerApellido,""),a(2),c(" ",r.segundoApellido,""),a(2),c(" ",r.email,""),a(2),c(" ",r.telefono,""),a(2),c(" ",r.direccion,""),a(2),c(" ",j(22,10,r.ingreso,"dd-MM-yyyy"),"")}}function fe(t,n){if(t&1&&(i(0,"div",3)(1,"span",4),o(2,"Listado de Propietarios"),e(),i(3,"div",5)(4,"div",6)(5,"button",7),o(6,"Nuevo Propietario"),e(),i(7,"div",8)(8,"table",9)(9,"thead",10)(10,"tr")(11,"th",11),o(12,"#"),e(),i(13,"th",12),o(14,"Documento de Identidad"),e(),i(15,"th",11),o(16,"Primer Nombre"),e(),i(17,"th",11),o(18,"Segundo Nombre"),e(),i(19,"th",11),o(20,"Primer Apellido"),e(),i(21,"th",11),o(22,"Segundo Apellido"),e(),i(23,"th",12),o(24,"Email"),e(),i(25,"th",11),o(26,"Celular"),e(),i(27,"th",12),o(28,"Direccion"),e(),i(29,"th",12),o(30,"Fecha Ingreso"),e(),i(31,"th",13),o(32,"Acciones"),e()()(),p(33,ue,29,13,"tbody",14),e()()()()()),t&2){let r=s();a(33),m("ngForOf",r.propietarios)}}var E=class t{constructor(n,r){this.propietarioService=n;this.router=r}propietarios=[];ngOnInit(){this.propietarioService.getPropietario().subscribe(n=>this.propietarios=n)}onDeletePropietario(n){A.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el usuario sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(r=>{r.isConfirmed&&(this.propietarioService.deletePropietarioById(n).subscribe(()=>{this.propietarios=this.propietarios.filter(l=>l.id!==n),this.router.navigate(["/dashboard/propietario/list-propietarios"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/propietario/list-propietarios"],{state:{}})})}),A.default.fire({title:"Eliminado!",text:"Propietario eliminado con exito.",icon:"success"}))})}static \u0275fac=function(r){return new(r||t)(f(_),f(h))};static \u0275cmp=u({type:t,selectors:[["propietario-list-propietario"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],["routerLink","/dashboard/propietario/add-propietarios",1,"btn","btn-lm","btn-outline-primary","m-2"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","2",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success","m-1"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(r,l){if(r&1&&p(0,ce,2,0,"div",1)(1,fe,34,1,"ng-template",null,0,B),r&2){let g=R(2);m("ngIf",l.propietarios.length===0)("ngIfElse",g)}},dependencies:[V,v,$,G]})};var C=I(te());function ge(t,n){t&1&&(i(0,"small",35),o(1," El documento es requerido. "),e())}function xe(t,n){t&1&&(i(0,"small",35),o(1," Debe tener como m\xEDnimo 5 caracteres "),e())}function be(t,n){t&1&&(i(0,"small",35),o(1," Debe tener como maximo 10 caracteres "),e())}function ye(t,n){if(t&1&&(i(0,"div"),p(1,ge,2,0,"small",34)(2,xe,2,0,"small",34)(3,be,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.documento.errors==null?null:r.propietarioForm.controls.documento.errors.required),a(),m("ngIf",r.propietarioForm.controls.documento.errors==null?null:r.propietarioForm.controls.documento.errors.minlength),a(),m("ngIf",r.propietarioForm.controls.documento.errors==null?null:r.propietarioForm.controls.documento.errors.maxlength)}}function ve(t,n){t&1&&(i(0,"p",37)(1,"span",38),o(2,"Oops!"),e(),o(3," El primer nombre es requerido! "),e())}function he(t,n){if(t&1&&(i(0,"div"),p(1,ve,4,0,"p",36),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.primerNombre.errors==null?null:r.propietarioForm.controls.primerNombre.errors.required)}}function _e(t,n){t&1&&(i(0,"small",35),o(1," El primer apellido es requerido. "),e())}function ke(t,n){if(t&1&&(i(0,"div"),p(1,_e,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.primerApellido.errors==null?null:r.propietarioForm.controls.primerApellido.errors.required)}}function Se(t,n){t&1&&(i(0,"small",35),o(1," El email es requerido. "),e())}function Ee(t,n){t&1&&(i(0,"small",35),o(1," El formato del email no es valido. "),e())}function Ce(t,n){if(t&1&&(i(0,"div"),p(1,Se,2,0,"small",34)(2,Ee,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.email.errors==null?null:r.propietarioForm.controls.email.errors.required),a(),m("ngIf",r.propietarioForm.controls.email.errors==null?null:r.propietarioForm.controls.email.errors.pattern)}}function Pe(t,n){t&1&&(i(0,"small",35),o(1," La fecha es requerida. "),e())}function Fe(t,n){if(t&1&&(i(0,"div"),p(1,Pe,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.ingreso.errors==null?null:r.propietarioForm.controls.ingreso.errors.required)}}function we(t,n){t&1&&(i(0,"small",35),o(1," El n\xFAmero celular es requerido. "),e())}function Ae(t,n){t&1&&(i(0,"small",35),o(1," El formato del n\xFAmero celular no es valido. "),e())}function Ie(t,n){t&1&&(i(0,"small",35),o(1," Maximo 10 caracteres "),e())}function Ne(t,n){if(t&1&&(i(0,"div"),p(1,we,2,0,"small",34)(2,Ae,2,0,"small",34)(3,Ie,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.telefono.errors==null?null:r.propietarioForm.controls.telefono.errors.required),a(),m("ngIf",r.propietarioForm.controls.telefono.errors==null?null:r.propietarioForm.controls.telefono.errors.pattern),a(),m("ngIf",r.propietarioForm.controls.telefono.errors==null?null:r.propietarioForm.controls.telefono.errors.maxlength)}}function Te(t,n){t&1&&(i(0,"small",35),o(1," La direcci\xF3n es requerida. "),e())}function Le(t,n){if(t&1&&(i(0,"div"),p(1,Te,2,0,"small",34),e()),t&2){let r=s();a(),m("ngIf",r.propietarioForm.controls.direccion.errors==null?null:r.propietarioForm.controls.direccion.errors.required)}}var P=class t{constructor(n,r){this.propietarioService=n;this.router=r}fb=N(Y);vl=H;ngOnInit(){ne({Ripple:oe,Input:ie})}propietarioForm=this.fb.group({id:[0],documento:["",[this.vl.required,this.vl.minLength(5),this.vl.maxLength(10)]],primerNombre:["",[this.vl.required]],segundoNombre:[""],primerApellido:["",[this.vl.required]],segundoApellido:[""],email:["",[this.vl.required,this.vl.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],telefono:["",[this.vl.required,this.vl.maxLength(10),this.vl.pattern(/^[3][0-9]{1,9}$/)]],direccion:["",[this.vl.required]],ingreso:["",[this.vl.required]]});get currentPropietario(){return this.propietarioForm.value}onSubmit(){if(this.propietarioForm.invalid){C.default.fire({icon:"error",title:"Oops...",text:"Debes diligenciar todos los campos!"});return}this.currentPropietario.id&&this.propietarioService.updatePropietario(this.currentPropietario).subscribe({next:()=>{this.router.navigateByUrl("/dashboard/propietario/list-propietarios"),C.default.fire({title:"Actualizado propietario!",text:"Propietario actualizado con exito!",icon:"success"})}}),this.propietarioService.addPropietario(this.currentPropietario).subscribe({next:()=>{this.router.navigateByUrl("/dashboard/propietario/list-propietarios"),C.default.fire({title:"Nuevo propietario!",text:"Creado con exito!",icon:"success"})}})}onReset(){this.propietarioForm.reset()}static \u0275fac=function(r){return new(r||t)(f(_),f(h))};static \u0275cmp=u({type:t,selectors:[["propietario-add-propietario"]],decls:59,vars:8,consts:[[1,"bg-white","p-6","shadow-4","dark:bg-gray-900","mx-auto","block","max-w-lm","rounded-lg"],[1,"py-8","px-4","mx-auto","max-w-2xl","lg:py-16"],[1,"mb-4","text-xl","font-bold","text-gray-900","dark:text-white"],[3,"ngSubmit","formGroup"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"sm:col-span-2"],["for","documento",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","documento","type","text","name","documento","id","documento",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[4,"ngIf"],[1,"w-full"],["for","primerNombre",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","primerNombre","type","text","name","primerNombre","id","primerNombre",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","segundoNombre",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","segundoNombre","type","text","name","segundoNombre","id","segundoNombre",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","primerApellido",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","primerApellido","type","text","name","primerApellido","id","primerApellido",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","segundoApellido",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","segundoApellido","type","text","name","segundoApellido","id","segundoApellido",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","email-address-icon",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3.5","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 16",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["d","m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"],["d","M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"],["formControlName","email","name","email","type","email","id","email","placeholder","name@flowbite.com",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","ps-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","ingreso",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","ingreso","name","ingreso","type","date","id","ingreso",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light"],["for","telefono",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","telefono","type","text","name","telefono","id","telefono",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","direccion",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","direccion","type","text","name","direccion","id","direccion",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"d-flex","justify-content-between"],["type","submit",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800","m-2"],["type","reset",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],["Class","form -text text-danger",4,"ngIf"],["Class","form -text text-danger"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(r,l){r&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),o(3,"Agregar Nuevo Propietario"),e(),i(4,"form",3),x("ngSubmit",function(){return l.onSubmit()}),i(5,"div",4)(6,"div",5)(7,"label",6),o(8,"Documeto de Identidad"),e(),d(9,"input",7),p(10,ye,4,3,"div",8),e(),i(11,"div",9)(12,"label",10),o(13,"Primer Nombre"),e(),d(14,"input",11),p(15,he,2,1,"div",8),e(),i(16,"div",9)(17,"label",12),o(18,"Segundo Nombre"),e(),d(19,"input",13),e(),i(20,"div",9)(21,"label",14),o(22,"Primer Apellido"),e(),d(23,"input",15),p(24,ke,2,1,"div",8),e(),i(25,"div",9)(26,"label",16),o(27,"Segundo Apellido"),e(),d(28,"input",17),e(),i(29,"div",9)(30,"label",18),o(31," Email"),e(),i(32,"div",19)(33,"div",20),q(),i(34,"svg",21),d(35,"path",22)(36,"path",23),e()(),D(),d(37,"input",24),p(38,Ce,3,2,"div",8),e()(),i(39,"div",9)(40,"label",25),o(41,"Fecha de Ingreso"),e(),d(42,"input",26),p(43,Fe,2,1,"div",8),e(),i(44,"div",9)(45,"label",27),o(46,"N\xFAmero Celular"),e(),d(47,"input",28),p(48,Ne,4,3,"div",8),e(),i(49,"div",9)(50,"label",29),o(51,"Direcci\xF3n"),e(),d(52,"input",30),p(53,Le,2,1,"div",8),e()(),i(54,"div",31)(55,"button",32),o(56," Agregar "),e(),i(57,"button",33),x("click",function(){return l.onReset()}),o(58," Limpiar "),e()()()()()),r&2&&(a(4),m("formGroup",l.propietarioForm),a(6),m("ngIf",l.propietarioForm.controls.documento.invalid&&(l.propietarioForm.controls.documento.dirty||l.propietarioForm.controls.documento.touched)),a(5),m("ngIf",l.propietarioForm.controls.primerNombre.invalid&&(l.propietarioForm.controls.primerNombre.dirty||l.propietarioForm.controls.primerNombre.touched)),a(9),m("ngIf",l.propietarioForm.controls.primerApellido.invalid&&(l.propietarioForm.controls.primerApellido.dirty||l.propietarioForm.controls.primerApellido.touched)),a(14),m("ngIf",l.propietarioForm.controls.email.invalid&&(l.propietarioForm.controls.email.dirty||l.propietarioForm.controls.email.touched)),a(5),m("ngIf",l.propietarioForm.controls.ingreso.invalid&&(l.propietarioForm.controls.ingreso.dirty||l.propietarioForm.controls.ingreso.touched)),a(5),m("ngIf",l.propietarioForm.controls.telefono.invalid&&(l.propietarioForm.controls.telefono.dirty||l.propietarioForm.controls.telefono.touched)),a(5),m("ngIf",l.propietarioForm.controls.direccion.invalid&&(l.propietarioForm.controls.direccion.dirty||l.propietarioForm.controls.direccion.touched)))},dependencies:[v,K,U,W,J,Q,X]})};var qe=[{path:"",component:k},{path:"list-propietarios",component:E},{path:"add-propietarios",component:P},{path:"**",redirectTo:"home"}],F=class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=y({type:t});static \u0275inj=b({imports:[w.forChild(qe),w]})};var me=class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=y({type:t});static \u0275inj=b({imports:[z,F,ee,re]})};export{me as PropietarioModule};
