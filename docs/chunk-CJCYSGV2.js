import{a as z,c as J,d as K,e as Q,f as l,g as W,i as X,j as Y,l as Z}from"./chunk-A35XWKUM.js";import{a as ee}from"./chunk-PNR3BLO6.js";import{$,D as a,E as c,I as w,J as f,M as t,N as i,O as p,P as T,Q as g,R as N,S as U,T as r,V as m,d as F,fa as B,g as D,ga as G,i as L,ja as V,k as M,la as q,n as O,o as x,q as R,qa as P,s as d,t as h,ta as I,ua as H,va as te,w as j,x as k}from"./chunk-DRKUHF5Z.js";var S=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=d({type:n,selectors:[["propietario-layout-propietario"]],decls:2,vars:0,template:function(e,s){e&1&&(t(0,"p"),r(1,"layout-propietario works!"),i())}})};var _=F(ee());var u=class n{constructor(o){this.http=o}baseUrl=H.baseUrl;getPropietario(){return this.http.get(`${this.baseUrl}/api/propietarios`)}addPropietario(o){return this.http.post(`${this.baseUrl}/api/propietarios/create`,o)}updatePropietario(o){if(!o.id)throw Error("propietario requerido");return this.http.post(`${this.baseUrl}/api/propietarios`,o)}deletePropietarioById(o){return this.http.delete(`${this.baseUrl}/api/propietarios/${o}`).pipe(M(e=>D(!1)),L(e=>!0))}static \u0275fac=function(e){return new(e||n)(R(q))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};function pe(n,o){n&1&&(t(0,"div",2),r(1,` NO hay Propietarios que mostrar
`),i())}function me(n,o){if(n&1){let e=T();t(0,"tbody")(1,"tr",13)(2,"td",14),r(3),i(),t(4,"td",14),r(5),i(),t(6,"td",14),r(7),i(),t(8,"td",14),r(9),i(),t(10,"td",14),r(11),i(),t(12,"td",14),r(13),i(),t(14,"td",14),r(15),i(),t(16,"td",14),r(17),i(),t(18,"td",14),r(19),i(),t(20,"th")(21,"button",15),r(22,"Update"),i()(),t(23,"th")(24,"button",16),g("click",function(){let v=j(e).$implicit,ne=N(2);return k(ne.onDeletePropietario(v.id))}),r(25,"Delete"),i()()()()}if(n&2){let e=o.$implicit,s=o.index;a(3),m(" ",s+1,""),a(2),m(" ",e.documento,""),a(2),m(" ",e.primerNombre,""),a(2),m(" ",e.segundoNombre,""),a(2),m(" ",e.primerApellido,""),a(2),m(" ",e.segundoApellido,""),a(2),m(" ",e.email,""),a(2),m(" ",e.telefono,""),a(2),m(" ",e.direccion,"")}}function le(n,o){if(n&1&&(t(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"table",7)(5,"thead",8)(6,"tr")(7,"th",9),r(8,"#"),i(),t(9,"th",10),r(10,"Documento de Identidad"),i(),t(11,"th",9),r(12,"Primer Nombre"),i(),t(13,"th",9),r(14,"Segundo Nombre"),i(),t(15,"th",9),r(16,"Primer Apellido"),i(),t(17,"th",9),r(18,"Segundo Apellido"),i(),t(19,"th",10),r(20,"Email"),i(),t(21,"th",9),r(22,"Celular"),i(),t(23,"th",10),r(24,"Direccion"),i(),t(25,"th",11),r(26,"Acciones"),i()()(),w(27,me,26,9,"tbody",12),i()()()()()),n&2){let e=N();a(27),f("ngForOf",e.propietarios)}}var C=class n{constructor(o,e){this.propietarioService=o;this.router=e}propietarios=[];ngOnInit(){this.propietarioService.getPropietario().subscribe(o=>this.propietarios=o),console.log(this.propietarios)}onDeletePropietario(o){_.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el usuario sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(e=>{e.isConfirmed&&(this.propietarioService.deletePropietarioById(o).subscribe(()=>{this.router.navigate(["/dashboard/propietario/list-propietarios"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/propietario/list-propietarios"],{state:{}})})}),_.default.fire({title:"Eliminado!",text:"Propietario eliminado con exito.",icon:"success"}))})}static \u0275fac=function(e){return new(e||n)(c(u),c(P))};static \u0275cmp=d({type:n,selectors:[["propietario-list-propietario"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,s){if(e&1&&w(0,pe,2,0,"div",1)(1,le,28,1,"ng-template",null,0,$),e&2){let v=U(2);f("ngIf",s.propietarios.length===0)("ngIfElse",v)}},dependencies:[B,G]})};var A=F(ee());var y=class n{constructor(o,e){this.propietarioService=o;this.router=e}propietarioForm=new Q({id:new l(0),documento:new l(""),primerNombre:new l(""),segundoNombre:new l(""),primerApellido:new l(""),segundoApellido:new l(""),email:new l(""),telefono:new l(""),direccion:new l("")});get currentPropietario(){return this.propietarioForm.value}onSubmit(){if(!this.propietarioForm.invalid){if(this.currentPropietario.id){this.propietarioService.updatePropietario(this.currentPropietario).subscribe({next:o=>{console.log(o),this.router.navigate(["/dashboard/propietario/list-propietarios"])}}),A.default.fire({title:"Actualizado propietario!",text:"Propietario actualizado con exito!",icon:"success"});return}this.propietarioService.addPropietario(this.currentPropietario).subscribe({next:o=>{console.log(o),this.router.navigate(["/dashboard/propietario/list-propietarios"])}}),A.default.fire({title:"Creado nuevo propietario!",text:"Propietario creado con exito!",icon:"success"})}}static \u0275fac=function(e){return new(e||n)(c(u),c(P))};static \u0275cmp=d({type:n,selectors:[["propietario-add-propietario"]],decls:26,vars:1,consts:[[1,"container"],[1,"card","bg-light"],[1,"text-secondary"],[1,"card-body"],[3,"ngSubmit","formGroup"],["placeholder","Documento","name","documento","formControlName","documento",1,"form-control","my-2"],["placeholder","Primer Nombre","name","primerNombre","formControlName","primerNombre",1,"form-control","my-2"],["placeholder","Segundo Nombre","name","segundoNombre","formControlName","segundoNombre",1,"form-control","my-2"],["placeholder","Primer Apellido","name","primerApellido","formControlName","primerApellido",1,"form-control","my-2"],["placeholder","Segungo Apellido","name","segundoApellido","formControlName","segundoApellido",1,"form-control","my-2"],["placeholder","Email","name","email","formControlName","email",1,"form-control","my-2"],["placeholder","Numero Celular","name","telefono","formControlName","telefono",1,"form-control","my-2"],["placeholder","Direcci\xF3n","name","direccion","formControlName","direccion",1,"form-control","my-2"],["type","submit",1,"btn","btn-sm","btn-outline-primary","mx-3"],["type","button",1,"btn","btn-sm","btn-outline-success"]],template:function(e,s){e&1&&(t(0,"div",0)(1,"div",1),p(2,"h3",2),i(),t(3,"div",3)(4,"form",4),g("ngSubmit",function(){return s.onSubmit()}),t(5,"div"),p(6,"input",5),i(),t(7,"div"),p(8,"input",6),i(),t(9,"div"),p(10,"input",7),i(),t(11,"div"),p(12,"input",8),i(),t(13,"div"),p(14,"input",9),i(),t(15,"div"),p(16,"input",10),i(),t(17,"div"),p(18,"input",11),i(),t(19,"div"),p(20,"input",12),i(),t(21,"div")(22,"button",13),r(23,"Guardar"),i(),t(24,"button",14),r(25,"Limpiar"),i()()()()()),e&2&&(a(4),f("formGroup",s.propietarioForm))},dependencies:[W,z,J,K,X,Y]})};var se=[{path:"",component:S},{path:"list-propietarios",component:C},{path:"add-propietarios",component:y},{path:"**",redirectTo:"home"}],E=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=h({type:n});static \u0275inj=x({imports:[I.forChild(se),I]})};var re=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=h({type:n});static \u0275inj=x({imports:[V,E,Z,te]})};export{re as PropietarioModule};
