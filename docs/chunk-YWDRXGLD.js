import{a as ne}from"./chunk-26IHAILG.js";import{a as S}from"./chunk-L7ZTLJPE.js";import{a as $,b as z,c as J,d as H,e as K,g as Q,h as W,i as X,j as Y,k as Z,l as ee,m as te,n as ie}from"./chunk-DRBYDBCO.js";import{a as oe}from"./chunk-7A4U7ZJ5.js";import{Ba as re,D as a,E as s,I as c,J as m,M as o,N as e,O as u,P as L,Q as v,R as d,V as P,W as r,Y as p,Z as b,ba as D,ca as R,d as T,da as j,ka as y,la as C,ma as B,o as g,oa as G,r as q,s as h,t as x,va as U,w as O,wa as _,x as M,za as A}from"./chunk-4EQGBAJ3.js";var V=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=h({type:t,selectors:[["vehiculo-layout-vehiculo"]],decls:1,vars:0,template:function(i,l){i&1&&u(0,"router-outlet")},dependencies:[U]})};var N=T(oe());function ue(t,n){t&1&&(o(0,"div",2),r(1,` NO hay Vehiculos que mostrar
`),e())}function se(t,n){if(t&1){let i=L();o(0,"tbody")(1,"tr",14)(2,"td",15),r(3),e(),o(4,"td",15),r(5),e(),o(6,"td",15),r(7),e(),o(8,"td",15),r(9),e(),o(10,"td",15),r(11),e(),o(12,"td",15),r(13),e(),o(14,"td",15),r(15),e(),o(16,"th")(17,"button",16),r(18,"Update"),e()(),o(19,"th")(20,"button",17),v("click",function(){let f=O(i).$implicit,ce=d(2);return M(ce.onDeleteVehiculo(f.id))}),r(21,"Delete"),e()()()()}if(t&2){let i=n.$implicit,l=n.index;a(3),p(" ",l+1,""),a(2),p(" ",i.placa,""),a(2),p(" ",i.marca,""),a(2),p(" ",i.modeloAnio,""),a(2),p(" ",i.modeloCarroceria,""),a(2),p(" ",i.tipoCombustible,""),a(2),b(" ",i.propietario.primerNombre,""," "," ",i.propietario.primerApellido,"")}}function he(t,n){if(t&1&&(o(0,"div",3)(1,"span",4),r(2,"Listado de Vehiculos"),e(),o(3,"div",5)(4,"div",6)(5,"div",7)(6,"table",8)(7,"thead",9)(8,"tr")(9,"th",10),r(10,"#"),e(),o(11,"th",11),r(12,"Placa "),e(),o(13,"th",10),r(14,"Marca"),e(),o(15,"th",10),r(16,"A\xF1o Modelo"),e(),o(17,"th",10),r(18,"Modelo Carroceria"),e(),o(19,"th",10),r(20,"Tipo de Combustible"),e(),o(21,"th",11),r(22,"Nombre Propietario"),e(),o(23,"th",12),r(24,"Acciones"),e()()(),c(25,se,22,9,"tbody",13),e()()()()()),t&2){let i=d();a(25),m("ngForOf",i.vehiculos)}}var E=class t{constructor(n,i){this.vehiculoService=n;this.router=i}vehiculos=[];ngOnInit(){this.vehiculoService.getPVehiculo().subscribe(n=>this.vehiculos=n),console.log(this.vehiculos)}onDeleteVehiculo(n){N.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el vehiculo sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(i=>{i.isConfirmed&&(this.vehiculoService.deleteVehiculoById(n).subscribe(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{state:{}})})}),N.default.fire({title:"Eliminado!",text:"Vehiculo eliminado con exito.",icon:"success"}))})}static \u0275fac=function(i){return new(i||t)(s(S),s(_))};static \u0275cmp=h({type:t,selectors:[["vehiculo-list-vehiculo"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(i,l){if(i&1&&c(0,ue,2,0,"div",1)(1,he,26,1,"ng-template",null,0,j),i&2){let f=P(2);m("ngIf",l.vehiculos.length===0)("ngIfElse",f)}},dependencies:[y,C]})};var F=T(oe());function fe(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," la placa es requerida! "),e())}function ve(t,n){if(t&1&&(o(0,"div"),c(1,fe,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.placa.errors==null?null:i.vehiculoForm.controls.placa.errors.required)}}function ge(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," la marca es requerida! "),e())}function xe(t,n){if(t&1&&(o(0,"div"),c(1,ge,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.marca.errors==null?null:i.vehiculoForm.controls.marca.errors.required)}}function be(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," El tipo de carroceria es requerido! "),e())}function ye(t,n){if(t&1&&(o(0,"div"),c(1,be,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.modeloCarroceria.errors==null?null:i.vehiculoForm.controls.modeloCarroceria.errors.required)}}function Ce(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," El tipo de combustible es requerido! "),e())}function _e(t,n){if(t&1&&(o(0,"div"),c(1,Ce,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.tipoCombustible.errors==null?null:i.vehiculoForm.controls.tipoCombustible.errors.required)}}function Se(t,n){if(t&1&&(o(0,"option",28),r(1),e()),t&2){let i=n.$implicit;m("ngValue",i.id),a(),b(" ",i.primerNombre,""," ","",i.primerApellido,"")}}function Ve(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," El propietario es requerido! "),e())}function ke(t,n){if(t&1&&(o(0,"div"),c(1,Ve,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.propietario.errors==null?null:i.vehiculoForm.controls.propietario.errors.required)}}function Ee(t,n){t&1&&(o(0,"p",26)(1,"span",27),r(2,"Oops!"),e(),r(3," La fecha de ingreso es requerida! "),e())}function Fe(t,n){if(t&1&&(o(0,"div"),c(1,Ee,4,0,"p",25),e()),t&2){let i=d();a(),m("ngIf",i.vehiculoForm.controls.modeloAnio.errors==null?null:i.vehiculoForm.controls.modeloAnio.errors.required)}}var w=class t{constructor(n,i,l){this.vehiculoService=n;this.propietarioService=i;this.router=l}fb=q(te);vl=z;propietarios=[];ngOnInit(){this.dataPropietario()}vehiculoForm=this.fb.group({id:[0],placa:["",[this.vl.required,this.vl.minLength(6)]],marca:["",[this.vl.required]],modeloAnio:["",[this.vl.required]],modeloCarroceria:["",[this.vl.required]],tipoCombustible:["",[this.vl.required]],propietario:this.fb.group({id:[0,[this.vl.required]]})});get currentVehiculo(){return this.vehiculoForm.value}dataPropietario(){this.propietarioService.getPropietario().subscribe(n=>this.propietarios=n)}onSubmit(){if(console.log("inicioo onSumit"),this.vehiculoForm.invalid){F.default.fire({icon:"error",title:"Oops...",text:"Debes diligenciar todos los campos!"});return}this.currentVehiculo.id&&(console.log("update onSumit"),this.vehiculoService.updateVehiculo(this.currentVehiculo).subscribe({next:n=>{console.log(n),this.router.navigateByUrl("/dashboard/vehiculo/list-vehiculos"),F.default.fire({title:"Actualizado vehiculo!",text:"Vehiculo actualizado con exito!",icon:"success"})}})),this.vehiculoService.addVehiculo(this.currentVehiculo).subscribe({next:n=>{console.log(n),this.router.navigateByUrl("/dashboard/vehiculo/list-vehiculos"),F.default.fire({title:"Creado nuevo vehiculo!",text:"Vehiculo creado con exito!",icon:"success"})}}),console.log("despues de aadd onSumit")}onReset(){this.vehiculoForm.reset()}static \u0275fac=function(i){return new(i||t)(s(S),s(ne),s(_))};static \u0275cmp=h({type:t,selectors:[["vehiculo-add-vehiculo"]],decls:49,vars:12,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-2xl","lg:py-16"],[1,"mb-4","text-xl","font-bold","text-gray-900","dark:text-white"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"w-full"],["for","placa",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","placa","type","text","name","placa","id","placa",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[4,"ngIf"],["for","marca",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","marca","type","text","name","marca","id","marca",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","modeloCarroceria",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","modeloCarroceria","type","text","name","modeloCarroceria","id","modeloCarroceria",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","tipoCombustible",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","tipoCombustible","type","text","name","tipoCombustible","id","tipoCombustible",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["formGroupName","propietario",1,"sm:col-span-2"],["for","id",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","id","name","id","id","id",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[3,"selected","ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","modeloAnio",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","modeloAnio","name","modeloAnio","type","date","id","modeloAnio",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light"],[1,"d-flex","justify-content-between"],["type","submit",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800"],["type","reset",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"],[3,"ngValue"]],template:function(i,l){i&1&&(o(0,"section",0)(1,"div",1)(2,"h2",2),r(3,"Agregar Nuevo Vehiculo"),e(),o(4,"form",3),v("ngSubmit",function(){return l.onSubmit()}),o(5,"div",4)(6,"div",5)(7,"label",6),r(8,"Placa"),e(),u(9,"input",7),c(10,ve,2,1,"div",8),e(),o(11,"div",5)(12,"label",9),r(13,"Marca"),e(),u(14,"input",10),c(15,xe,2,1,"div",8),e(),o(16,"div",5)(17,"label",11),r(18,"Tipo Carroceria"),e(),u(19,"input",12),c(20,ye,2,1,"div",8),e(),o(21,"div",5)(22,"label",13),r(23,"Tipo de Combustible"),e(),u(24,"input",14),c(25,_e,2,1,"div",8),e(),o(26,"div",15)(27,"h4"),r(28,"Propiearios"),e(),o(29,"label",16),r(30,"Propietario Vehiculo"),e(),o(31,"select",17)(32,"option",18),r(33,"Seleccione el Propietario"),e(),c(34,Se,2,4,"option",19),e(),c(35,ke,2,1,"div",8),e(),o(36,"div",5)(37,"label",20),r(38,"Fecha de Ingreso"),e(),u(39,"input",21),c(40,Fe,2,1,"div",8),e()(),o(41,"div",22)(42,"button",23),r(43," Agregar Vehiculo "),e(),o(44,"button",24),v("click",function(){return l.onReset()}),r(45," Limpiar Campos "),e()()()()(),o(46,"pre"),r(47),D(48,"json"),e()),i&2&&(a(4),m("formGroup",l.vehiculoForm),a(6),m("ngIf",l.vehiculoForm.controls.placa.invalid&&(l.vehiculoForm.controls.placa.dirty||l.vehiculoForm.controls.placa.touched)),a(5),m("ngIf",l.vehiculoForm.controls.marca.invalid&&(l.vehiculoForm.controls.marca.dirty||l.vehiculoForm.controls.marca.touched)),a(5),m("ngIf",l.vehiculoForm.controls.modeloCarroceria.invalid&&(l.vehiculoForm.controls.modeloCarroceria.dirty||l.vehiculoForm.controls.modeloCarroceria.touched)),a(5),m("ngIf",l.vehiculoForm.controls.tipoCombustible.invalid&&(l.vehiculoForm.controls.tipoCombustible.dirty||l.vehiculoForm.controls.tipoCombustible.touched)),a(7),m("ngValue",0),a(2),m("ngForOf",l.propietarios),a(),m("ngIf",l.vehiculoForm.controls.propietario.invalid&&(l.vehiculoForm.controls.propietario.dirty||l.vehiculoForm.controls.propietario.touched)),a(5),m("ngIf",l.vehiculoForm.controls.modeloAnio.invalid&&(l.vehiculoForm.controls.modeloAnio.dirty||l.vehiculoForm.controls.modeloAnio.touched)),a(7),p("  ",R(48,10,l.currentVehiculo),`
`))},dependencies:[y,C,K,Z,ee,$,Y,J,H,Q,X,W,B]})};var we=[{path:"",component:V},{path:"list-vehiculos",component:E},{path:"add-vehiculos",component:w},{path:"**",redirectTo:"home"}],I=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=x({type:t});static \u0275inj=g({imports:[A.forChild(we),A]})};var me=class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=x({type:t});static \u0275inj=g({imports:[G,I,ie,re]})};export{me as VehiculoModule};
