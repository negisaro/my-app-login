import{a as fe}from"./chunk-ILPTW5BX.js";import{a as ee,b as p,c as te,d as ie,g as oe,i as re,j as ae,k as ne,l as le,m as ce,n as me,o as de,p as pe}from"./chunk-MBW2NNWA.js";import{a as ue}from"./chunk-NUCSRQZZ.js";import{b as he}from"./chunk-KPIFT5FG.js";import{Ba as N,Ca as Y,D as l,Da as se,E as u,I as s,K as c,N as o,O as t,P as m,Q as U,R as k,S as g,W as G,X as a,Z as d,_ as V,ca as Z,d as O,da as z,ea as J,g as A,i as L,k as T,ma as C,n as P,na as S,o as x,oa as Q,q,qa as K,r as R,s as h,sa as W,t as y,w as j,x as H,xa as X,y as B,ya as w,z as $}from"./chunk-O6WPUTJ7.js";var E=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=h({type:r,selectors:[["vehiculo-layout-vehiculo"]],decls:1,vars:0,template:function(e,n){e&1&&m(0,"router-outlet")},dependencies:[X]})};var M=O(ue());var f=class r{constructor(i){this.http=i}baseUrl=Y.baseUrl;getPVehiculo(){return this.http.get(`${this.baseUrl}/api/vehiculos`)}addVehiculo(i){return this.http.post(`${this.baseUrl}/api/vehiculos/create`,i)}updateVehiculo(i){if(!i.id)throw Error("vehiculo requerido");return this.http.post(`${this.baseUrl}/api/vehiculos`,i)}deleteVehiculoById(i){return this.http.delete(`${this.baseUrl}/api/vehiculos/${i}`).pipe(T(e=>A(!1)),L(e=>!0))}static \u0275fac=function(e){return new(e||r)(q(W))};static \u0275prov=P({token:r,factory:r.\u0275fac,providedIn:"root"})};function Ve(r,i){r&1&&(o(0,"div",2),a(1,` NO hay Vehiculos que mostrar
`),t())}function Ce(r,i){if(r&1){let e=U();o(0,"tbody")(1,"tr",14)(2,"td",15),a(3),t(),o(4,"td",15),a(5),t(),o(6,"td",15),a(7),t(),o(8,"td",15),a(9),t(),o(10,"td",15),a(11),t(),o(12,"td",15),a(13),t(),o(14,"td",15),a(15),t(),o(16,"th")(17,"button",16),a(18,"Update"),t()(),o(19,"th")(20,"button",17),k("click",function(){let b=j(e).$implicit,ye=g(2);return H(ye.onDeleteVehiculo(b.id))}),a(21,"Delete"),t()()()()}if(r&2){let e=i.$implicit,n=i.index;l(3),d(" ",n+1,""),l(2),d(" ",e.placa,""),l(2),d(" ",e.marca,""),l(2),d(" ",e.modeloAnio,""),l(2),d(" ",e.modeloCarroceria,""),l(2),d(" ",e.tipoCombustible,""),l(2),V(" ",e.propietario.primerNombre,""," "," ",e.propietario.primerApellido,"")}}function Se(r,i){if(r&1&&(o(0,"div",3)(1,"span",4),a(2,"Listado de Vehiculos"),t(),o(3,"div",5)(4,"div",6)(5,"div",7)(6,"table",8)(7,"thead",9)(8,"tr")(9,"th",10),a(10,"#"),t(),o(11,"th",11),a(12,"Placa "),t(),o(13,"th",10),a(14,"Marca"),t(),o(15,"th",10),a(16,"A\xF1o Modelo"),t(),o(17,"th",10),a(18,"Modelo Carroceria"),t(),o(19,"th",10),a(20,"Tipo de Combustible"),t(),o(21,"th",11),a(22,"Nombre Propietario"),t(),o(23,"th",12),a(24,"Acciones"),t()()(),s(25,Ce,22,9,"tbody",13),t()()()()()),r&2){let e=g();l(25),c("ngForOf",e.vehiculos)}}var I=class r{constructor(i,e){this.vehiculoService=i;this.router=e}vehiculos=[];ngOnInit(){this.vehiculoService.getPVehiculo().subscribe(i=>this.vehiculos=i),console.log(this.vehiculos)}onDeleteVehiculo(i){M.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el vehiculo sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(e=>{e.isConfirmed&&(this.vehiculoService.deleteVehiculoById(i).subscribe(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{state:{}})})}),M.default.fire({title:"Eliminado!",text:"Vehiculo eliminado con exito.",icon:"success"}))})}static \u0275fac=function(e){return new(e||r)(u(f),u(w))};static \u0275cmp=h({type:r,selectors:[["vehiculo-list-vehiculo"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,n){if(e&1&&s(0,Ve,2,0,"div",1)(1,Se,26,1,"ng-template",null,0,J),e&2){let b=G(2);c("ngIf",n.vehiculos.length===0)("ngIfElse",b)}},dependencies:[C,S]})};var D=O(ue());function we(r,i){r&1&&(o(0,"small"),a(1," la placa es requerida. "),t())}function Ee(r,i){if(r&1&&(o(0,"div",30),s(1,we,2,0,"small",31),t()),r&2){let e=g();l(),c("ngIf",e.vehiculoForm.controls.placa.errors)}}function Ie(r,i){if(r&1&&(o(0,"option",32),a(1),t()),r&2){let e=i.$implicit;c("ngValue",e.id),l(),V("",e.primerNombre,""," ","",e.primerApellido,"")}}var _=class r{constructor(i,e,n){this.vehiculoService=i;this.propietarioService=e;this.router=n}fb=R(de);propietarios=[];datepicker;vehiculoForm=this.fb.group({id:[0,[p.required]],placa:["",[p.required]],marca:["",[p.required]],modeloAnio:["",[p.required]],modeloCarroceria:["",[p.required]],tipoCombustible:["",[p.required]],propietario:["",[p.required]]});dataVehiculos(){this.propietarioService.getPropietario().subscribe(i=>this.propietarios=i),console.log(this.propietarios)}get currentVehiculo(){return this.vehiculoForm.value}onSubmit(){if(!this.vehiculoForm.invalid){if(this.currentVehiculo.id){this.vehiculoService.updateVehiculo(this.currentVehiculo).subscribe({next:i=>{console.log(i),this.router.navigate(["/dashboard/vehiculo/list-vehiculos"])}}),D.default.fire({title:"Actualizado vehiculo!",text:"Vehiculo actualizado con exito!",icon:"success"});return}this.vehiculoService.addVehiculo(this.currentVehiculo).subscribe({next:i=>{console.log(i),this.router.navigate(["/dashboard/vehiculo/list-vehiculos"])}}),D.default.fire({title:"Creado nuevo vehiculo!",text:"Vehiculo creado con exito!",icon:"success"})}}ngOnInit(){this.dataVehiculos();let i=document.getElementById("datepicker-custom"),e={defaultDatepickerId:null,autohide:!0,format:"yyyy-mm-dd",maxDate:null,minDate:null,orientation:"bottom",buttons:!1,autoSelectToday:0,title:"A\xF1o Modelo",rangePicker:!1,onShow:()=>{},onHide:()=>{}},n={id:"datepicker-custom-example",override:!0},b=new he(i,e,n);this.datepicker.getDate(),this.datepicker.setDate("05/31/2024"),this.datepicker.show(),this.datepicker.hide(),this.datepicker.getDatepickerInstance()}static \u0275fac=function(e){return new(e||r)(u(f),u(fe),u(w))};static \u0275cmp=h({type:r,selectors:[["vehiculo-add-vehiculo"]],decls:45,vars:8,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-2xl","lg:py-16"],[1,"mb-4","text-xl","font-bold","text-gray-900","dark:text-white"],["autocomplete","off",3,"ngSubmit","formGroup"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"w-full"],["for","placa",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","placa","type","text","name","placa","id","placa","placeholder","placa","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["class","alert alert-danger",4,"ngIf"],["for","marca",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","marca","type","text","name","marca","id","marca","placeholder","marca","required","EL CAMPO ES REQUERIDO",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","modeloCarroceria",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","modeloCarroceria","type","text","name","modeloCarroceria","id","modeloCarroceria","placeholder","tipo carroceria","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","tipoCombustible",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","tipoCombustible","type","text","name","tipoCombustible","id","tipoCombustible","placeholder","tipo combustible","required","",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"sm:col-span-2"],["for","category",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","propietario","name","propietario","id","propietario",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["value","0"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"relative","sm:col-span-2"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["d","M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"],["formControlName","modeloAnio","name","modeloAnio","id","datepicker-custom","datepicker","","datepicker-autohide","","type","text","placeholder","Seleccione el modelo del carro",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","ps-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["type","submit",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"disabled"],[1,"container-login100-form-btn"],[1,"wrap-login100-form-btn"],[1,"login100-form-bgbtn"],["type","submit",1,"login100-form-btn",3,"disabled"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"ngValue"]],template:function(e,n){e&1&&(o(0,"section",0)(1,"div",1)(2,"h2",2),a(3,"Agregar Nuevo Vehiculo"),t(),o(4,"form",3),k("ngSubmit",function(){return n.onSubmit()}),o(5,"div",4)(6,"div",5)(7,"label",6),a(8,"Placa"),t(),m(9,"input",7),s(10,Ee,2,1,"div",8),t(),o(11,"div",5)(12,"label",9),a(13,"Marca"),t(),m(14,"input",10),t(),o(15,"div",5)(16,"label",11),a(17,"Tipo Carroceria"),t(),m(18,"input",12),t(),o(19,"div",5)(20,"label",13),a(21,"Tipo de Combustible"),t(),m(22,"input",14),t(),o(23,"div",15)(24,"label",16),a(25,"Propietario Vehiculo"),t(),o(26,"select",17)(27,"option",18),a(28,"Seleccione el Propietario"),t(),s(29,Ie,2,4,"option",19),t()(),o(30,"div",20)(31,"div",21),B(),o(32,"svg",22),m(33,"path",23),t()(),$(),m(34,"input",24),t()(),o(35,"button",25),a(36," Agregar Vehiculo "),t(),o(37,"div",26)(38,"div",27),m(39,"div",28),o(40,"button",29),a(41," Login "),t()()()()()(),o(42,"pre"),a(43),Z(44,"json"),t()),e&2&&(l(4),c("formGroup",n.vehiculoForm),l(6),c("ngIf",n.vehiculoForm.controls.placa.invalid&&(n.vehiculoForm.controls.placa.dirty||n.vehiculoForm.controls.placa.touched)),l(19),c("ngForOf",n.propietarios),l(6),c("disabled",n.vehiculoForm.invalid),l(5),c("disabled",n.vehiculoForm.invalid),l(3),d("  ",z(44,6,n.currentVehiculo),`
`))},dependencies:[C,S,oe,le,ce,ee,ne,te,ie,me,re,ae,Q]})};var _e=[{path:"",component:E},{path:"list-vehiculos",component:I},{path:"add-vehiculos",component:_},{path:"**",redirectTo:"home"}],F=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=x({imports:[N.forChild(_e),N]})};var xe=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=x({imports:[K,F,pe,se]})};export{xe as VehiculoModule};
