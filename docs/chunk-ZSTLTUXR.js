import{a as pe}from"./chunk-26IHAILG.js";import{a as X,b as Y,c as Z,d as ee,e as te,f as ie,g as oe,h as re,i as ne,j as le,k as ae,l as ce}from"./chunk-ENSCK24I.js";import{a as me}from"./chunk-7A4U7ZJ5.js";import{Aa as W,Ba as de,D as a,E as s,I as m,J as c,M as r,N as i,O as u,P as B,Q as g,R as d,V as U,W as n,Y as p,Z as C,ba as $,ca as G,d as T,da as H,g as O,i as q,k as M,ka as _,la as V,ma as z,n as L,o as x,oa as J,q as P,qa as K,r as j,s as h,t as y,va as Q,w as D,wa as S,x as R,za as A}from"./chunk-4EQGBAJ3.js";var k=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=h({type:t,selectors:[["vehiculo-layout-vehiculo"]],decls:1,vars:0,template:function(e,l){e&1&&u(0,"router-outlet")},dependencies:[Q]})};var N=T(me());var f=class t{constructor(o){this.http=o}baseUrl=W.baseUrl;getPVehiculo(){return this.http.get(`${this.baseUrl}/api/vehiculos`)}addVehiculo(o){return this.http.post(`${this.baseUrl}/api/vehiculos/register`,o)}updateVehiculo(o){if(!o.id)throw Error("vehiculo requerido");return this.http.post(`${this.baseUrl}/api/vehiculos`,o)}deleteVehiculoById(o){return this.http.delete(`${this.baseUrl}/api/vehiculos/${o}`).pipe(M(e=>O(!1)),q(e=>!0))}static \u0275fac=function(e){return new(e||t)(P(K))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function be(t,o){t&1&&(r(0,"div",2),n(1,` NO hay Vehiculos que mostrar
`),i())}function xe(t,o){if(t&1){let e=B();r(0,"tbody")(1,"tr",14)(2,"td",15),n(3),i(),r(4,"td",15),n(5),i(),r(6,"td",15),n(7),i(),r(8,"td",15),n(9),i(),r(10,"td",15),n(11),i(),r(12,"td",15),n(13),i(),r(14,"td",15),n(15),i(),r(16,"th")(17,"button",16),n(18,"Update"),i()(),r(19,"th")(20,"button",17),g("click",function(){let v=D(e).$implicit,ve=d(2);return R(ve.onDeleteVehiculo(v.id))}),n(21,"Delete"),i()()()()}if(t&2){let e=o.$implicit,l=o.index;a(3),p(" ",l+1,""),a(2),p(" ",e.placa,""),a(2),p(" ",e.marca,""),a(2),p(" ",e.modeloAnio,""),a(2),p(" ",e.modeloCarroceria,""),a(2),p(" ",e.tipoCombustible,""),a(2),C(" ",e.propietario.primerNombre,""," "," ",e.propietario.primerApellido,"")}}function ye(t,o){if(t&1&&(r(0,"div",3)(1,"span",4),n(2,"Listado de Vehiculos"),i(),r(3,"div",5)(4,"div",6)(5,"div",7)(6,"table",8)(7,"thead",9)(8,"tr")(9,"th",10),n(10,"#"),i(),r(11,"th",11),n(12,"Placa "),i(),r(13,"th",10),n(14,"Marca"),i(),r(15,"th",10),n(16,"A\xF1o Modelo"),i(),r(17,"th",10),n(18,"Modelo Carroceria"),i(),r(19,"th",10),n(20,"Tipo de Combustible"),i(),r(21,"th",11),n(22,"Nombre Propietario"),i(),r(23,"th",12),n(24,"Acciones"),i()()(),m(25,xe,22,9,"tbody",13),i()()()()()),t&2){let e=d();a(25),c("ngForOf",e.vehiculos)}}var E=class t{constructor(o,e){this.vehiculoService=o;this.router=e}vehiculos=[];ngOnInit(){this.vehiculoService.getPVehiculo().subscribe(o=>this.vehiculos=o),console.log(this.vehiculos)}onDeleteVehiculo(o){N.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el vehiculo sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(e=>{e.isConfirmed&&(this.vehiculoService.deleteVehiculoById(o).subscribe(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/vehiculo/list-vehiculos"],{state:{}})})}),N.default.fire({title:"Eliminado!",text:"Vehiculo eliminado con exito.",icon:"success"}))})}static \u0275fac=function(e){return new(e||t)(s(f),s(S))};static \u0275cmp=h({type:t,selectors:[["vehiculo-list-vehiculo"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,l){if(e&1&&m(0,be,2,0,"div",1)(1,ye,26,1,"ng-template",null,0,H),e&2){let v=U(2);c("ngIf",l.vehiculos.length===0)("ngIfElse",v)}},dependencies:[_,V]})};var F=T(me());function Ce(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," la placa es requerida! "),i())}function _e(t,o){if(t&1&&(r(0,"div"),m(1,Ce,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.placa.errors==null?null:e.vehiculoForm.controls.placa.errors.required)}}function Ve(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," la marca es requerida! "),i())}function Se(t,o){if(t&1&&(r(0,"div"),m(1,Ve,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.marca.errors==null?null:e.vehiculoForm.controls.marca.errors.required)}}function ke(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," El tipo de carroceria es requerido! "),i())}function Ee(t,o){if(t&1&&(r(0,"div"),m(1,ke,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.modeloCarroceria.errors==null?null:e.vehiculoForm.controls.modeloCarroceria.errors.required)}}function Fe(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," El tipo de combustible es requerido! "),i())}function we(t,o){if(t&1&&(r(0,"div"),m(1,Fe,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.tipoCombustible.errors==null?null:e.vehiculoForm.controls.tipoCombustible.errors.required)}}function Ie(t,o){if(t&1&&(r(0,"option",28),n(1),i()),t&2){let e=o.$implicit;c("ngValue",e.id),a(),C("",e.primerNombre,""," ","",e.primerApellido,"")}}function Ae(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," El propietario es requerido! "),i())}function Ne(t,o){if(t&1&&(r(0,"div"),m(1,Ae,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.propietario.errors==null?null:e.vehiculoForm.controls.propietario.errors.required)}}function Te(t,o){t&1&&(r(0,"p",26)(1,"span",27),n(2,"Oops!"),i(),n(3," La fecha de ingreso es requerida! "),i())}function Oe(t,o){if(t&1&&(r(0,"div"),m(1,Te,4,0,"p",25),i()),t&2){let e=d();a(),c("ngIf",e.vehiculoForm.controls.modeloAnio.errors==null?null:e.vehiculoForm.controls.modeloAnio.errors.required)}}var w=class t{constructor(o,e,l){this.vehiculoService=o;this.propietarioService=e;this.router=l}fb=j(ae);propietarios=[];vl=Y;errores=[];vehiculoForm=this.fb.group({id:[0],placa:["",[this.vl.required,this.vl.minLength(6)]],marca:["",[this.vl.required]],modeloAnio:["",[this.vl.required]],modeloCarroceria:["",[this.vl.required]],tipoCombustible:["",[this.vl.required]],propietario:["",[this.vl.required]]});dataVehiculos(){this.propietarioService.getPropietario().subscribe(o=>this.propietarios=o)}get currentVehiculo(){return this.vehiculoForm.value}onSubmit(){if(console.log("inicioo onSumit"),this.vehiculoForm.invalid){F.default.fire({icon:"error",title:"Oops...",text:"Debes diligenciar todos los campos!"});return}this.currentVehiculo.id&&(console.log("update onSumit"),this.vehiculoService.updateVehiculo(this.currentVehiculo).subscribe({next:o=>{console.log(o),this.router.navigateByUrl("/dashboard/vehiculo/list-vehiculos"),F.default.fire({title:"Actualizado vehiculo!",text:"Vehiculo actualizado con exito!",icon:"success"})}})),this.vehiculoService.addVehiculo(this.currentVehiculo).subscribe({next:o=>{console.log(o),this.router.navigateByUrl("/dashboard/vehiculo/list-vehiculos"),F.default.fire({title:"Creado nuevo vehiculo!",text:"Vehiculo creado con exito!",icon:"success"})}}),console.log("despues de aadd onSumit")}ngOnInit(){this.dataVehiculos()}onReset(){this.vehiculoForm.reset()}static \u0275fac=function(e){return new(e||t)(s(f),s(pe),s(S))};static \u0275cmp=h({type:t,selectors:[["vehiculo-add-vehiculo"]],decls:47,vars:12,consts:[[1,"bg-white","dark:bg-gray-900"],[1,"py-8","px-4","mx-auto","max-w-2xl","lg:py-16"],[1,"mb-4","text-xl","font-bold","text-gray-900","dark:text-white"],["autocomplete","on",3,"ngSubmit","formGroup"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"w-full"],["for","placa",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","placa","type","text","name","placa","id","placa",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[4,"ngIf"],["for","marca",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","marca","type","text","name","marca","id","marca",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","modeloCarroceria",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","modeloCarroceria","type","text","name","modeloCarroceria","id","modeloCarroceria",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","tipoCombustible",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","tipoCombustible","type","text","name","tipoCombustible","id","tipoCombustible",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"sm:col-span-2"],["for","propietario",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","propietario","name","propietario","id","propietario",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[3,"selected","ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","modeloAnio",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","modeloAnio","name","modeloAnio","type","date","id","modeloAnio",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light"],[1,"d-flex","justify-content-between"],["type","submit",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800"],["type","reset",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"],[3,"ngValue"]],template:function(e,l){e&1&&(r(0,"section",0)(1,"div",1)(2,"h2",2),n(3,"Agregar Nuevo Vehiculo"),i(),r(4,"form",3),g("ngSubmit",function(){return l.onSubmit()}),r(5,"div",4)(6,"div",5)(7,"label",6),n(8,"Placa"),i(),u(9,"input",7),m(10,_e,2,1,"div",8),i(),r(11,"div",5)(12,"label",9),n(13,"Marca"),i(),u(14,"input",10),m(15,Se,2,1,"div",8),i(),r(16,"div",5)(17,"label",11),n(18,"Tipo Carroceria"),i(),u(19,"input",12),m(20,Ee,2,1,"div",8),i(),r(21,"div",5)(22,"label",13),n(23,"Tipo de Combustible"),i(),u(24,"input",14),m(25,we,2,1,"div",8),i(),r(26,"div",15)(27,"label",16),n(28,"Propietario Vehiculo"),i(),r(29,"select",17)(30,"option",18),n(31,"Seleccione el Propietario"),i(),m(32,Ie,2,4,"option",19),i(),m(33,Ne,2,1,"div",8),i(),r(34,"div",5)(35,"label",20),n(36,"Fecha de Ingreso"),i(),u(37,"input",21),m(38,Oe,2,1,"div",8),i()(),r(39,"div",22)(40,"button",23),n(41," Agregar Vehiculo "),i(),r(42,"button",24),g("click",function(){return l.onReset()}),n(43," Limpiar Campos "),i()()()()(),r(44,"pre"),n(45),$(46,"json"),i()),e&2&&(a(4),c("formGroup",l.vehiculoForm),a(6),c("ngIf",l.vehiculoForm.controls.placa.invalid&&(l.vehiculoForm.controls.placa.dirty||l.vehiculoForm.controls.placa.touched)),a(5),c("ngIf",l.vehiculoForm.controls.marca.invalid&&(l.vehiculoForm.controls.marca.dirty||l.vehiculoForm.controls.marca.touched)),a(5),c("ngIf",l.vehiculoForm.controls.modeloCarroceria.invalid&&(l.vehiculoForm.controls.modeloCarroceria.dirty||l.vehiculoForm.controls.modeloCarroceria.touched)),a(5),c("ngIf",l.vehiculoForm.controls.tipoCombustible.invalid&&(l.vehiculoForm.controls.tipoCombustible.dirty||l.vehiculoForm.controls.tipoCombustible.touched)),a(5),c("ngValue",0),a(2),c("ngForOf",l.propietarios),a(),c("ngIf",l.vehiculoForm.controls.propietario.invalid&&(l.vehiculoForm.controls.propietario.dirty||l.vehiculoForm.controls.propietario.touched)),a(5),c("ngIf",l.vehiculoForm.controls.modeloAnio.invalid&&(l.vehiculoForm.controls.modeloAnio.dirty||l.vehiculoForm.controls.modeloAnio.touched)),a(7),p("  ",G(46,10,l.currentVehiculo),`
`))},dependencies:[_,V,te,ne,le,X,re,Z,ee,ie,oe,z]})};var qe=[{path:"",component:k},{path:"list-vehiculos",component:E},{path:"add-vehiculos",component:w},{path:"**",redirectTo:"home"}],I=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=y({type:t});static \u0275inj=x({imports:[A.forChild(qe),A]})};var fe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=y({type:t});static \u0275inj=x({imports:[J,I,ce,de]})};export{fe as VehiculoModule};
