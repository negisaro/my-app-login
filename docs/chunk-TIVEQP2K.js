import{a as ne}from"./chunk-AZEX6GXF.js";import{a as _}from"./chunk-5VCOO27L.js";import{a as $,b as U,c as H,d as W,e as J,g as K,i as Q,m as X,n as Y}from"./chunk-WA2EDG6W.js";import{a as ee}from"./chunk-4PFSTVV6.js";import{c as re,d as ie,e as oe}from"./chunk-UUY3WSRA.js";import{Aa as F,B as R,Ca as te,D as l,E as u,I as p,J as m,M as i,N as t,O as d,P as M,Q as x,R as s,V as O,W as o,Y as c,d as I,ea as j,la as B,ma as v,o as b,pa as V,r as N,s as f,t as y,va as G,w as T,wa as z,x as L,xa as h,y as q,ya as Z,z as D}from"./chunk-X3HYHAT6.js";var k=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=f({type:r,selectors:[["propietario-layout-propietario"]],decls:1,vars:0,template:function(e,a){e&1&&d(0,"router-outlet")},dependencies:[z]})};var A=I(ee());function ce(r,n){r&1&&(i(0,"div",2),o(1,` NO hay Propietarios que mostrar
`),t())}function ue(r,n){if(r&1){let e=M();i(0,"tbody")(1,"tr",16)(2,"td",17),o(3),t(),i(4,"td",17),o(5),t(),i(6,"td",17),o(7),t(),i(8,"td",17),o(9),t(),i(10,"td",17),o(11),t(),i(12,"td",17),o(13),t(),i(14,"td",17),o(15),t(),i(16,"td",17),o(17),t(),i(18,"td",17),o(19),t(),i(20,"th")(21,"button",18),o(22,"Update"),t()(),i(23,"th")(24,"button",19),x("click",function(){let g=T(e).$implicit,pe=s(2);return L(pe.onDeletePropietario(g.id))}),o(25,"Delete"),t()()()()}if(r&2){let e=n.$implicit,a=n.index;l(3),c(" ",a+1,""),l(2),c(" ",e.documento,""),l(2),c(" ",e.primerNombre,""),l(2),c(" ",e.segundoNombre,""),l(2),c(" ",e.primerApellido,""),l(2),c(" ",e.segundoApellido,""),l(2),c(" ",e.email,""),l(2),c(" ",e.telefono,""),l(2),c(" ",e.direccion,"")}}function fe(r,n){if(r&1&&(i(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),o(4,"Listado de Propietarios"),t(),i(5,"div",7)(6,"table",8)(7,"thead",9)(8,"tr")(9,"th",10),o(10,"#"),t(),i(11,"th",11),o(12,"Documento de Identidad"),t(),i(13,"th",10),o(14,"Primer Nombre"),t(),i(15,"th",10),o(16,"Segundo Nombre"),t(),i(17,"th",10),o(18,"Primer Apellido"),t(),i(19,"th",10),o(20,"Segundo Apellido"),t(),i(21,"th",11),o(22,"Email"),t(),i(23,"th",10),o(24,"Celular"),t(),i(25,"th",11),o(26,"Direccion"),t(),i(27,"th",12),o(28,"Acciones"),t()()(),p(29,ue,26,9,"tbody",13),t()(),d(30,"shared-paginator",14)(31,"shared-paginator",15),t()()()),r&2){let e=s();l(29),m("ngForOf",e.propietarios),l(),m("paginator",e.paginator)("url","/dashboard/propietario/list-propietarios/page"),l(),m("paginator",e.paginator)}}var S=class r{constructor(n,e,a){this.propietarioService=n;this.router=e;this.route=a}propietarios=[];paginator={};_pageProductEventEmitter=new R;ngOnInit(){this.propietarioService.getPropietario().subscribe(n=>this.propietarios=n),this.pagePropietarioEvent(),console.log(this.propietarios)}onDeletePropietario(n){A.default.fire({title:"Seguro que quiere eliminar?",text:"Cuidado el usuario sera eliminado del sistema!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si"}).then(e=>{e.isConfirmed&&(this.propietarioService.deletePropietarioById(n).subscribe(()=>{this.router.navigate(["/dashboard/propietario/list-propietarios"],{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard/propietario/list-propietarios"],{state:{}})})}),A.default.fire({title:"Eliminado!",text:"Propietario eliminado con exito.",icon:"success"}))})}pagePropietarioEvent(){(this.propietarios==null||this.propietarios==null||this.propietarios.length==0)&&this.route.paramMap.subscribe(n=>{let e=+(n.get("page")||"0");console.log(e),this.propietarioService.getPageable(e).subscribe(a=>{this.propietarios=a,this.paginator=a,console.log(a),this._pageProductEventEmitter.emit({propietarios:this.propietarios,paginator:this.paginator})})})}static \u0275fac=function(e){return new(e||r)(u(_),u(h),u(G))};static \u0275cmp=f({type:r,selectors:[["propietario-list-propietario"]],decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"inline-block","min-w-full","py-2","sm:px-6","lg:px-8"],[1,"text-4xl","text-cyan-800","text-center","font-medium","leading-tight"],[1,"overflow-hidden"],["data-twe-spy","scroll","data-twe-target","#scrollspy-collapsible","data-twe-offset","0",1,"min-w-full","text-center","text-sm","font-light","text-surface","dark:text-white"],[1,"border-b","border-neutral-200","bg-[#68829b]","font-medium","text-white","dark:border-white/10"],["scope","col",1,"px-6","py-4","text-left"],["scope","col",1,"px-6","py-4"],["colspan","3",2,"text-align","center"],[4,"ngFor","ngForOf"],[3,"paginator","url"],["routerLink","'/dashboard/propietario/list-propietarios/page'",3,"paginator"],[1,"border-b","border-neutral-200","dark:border-white/10","text-dark"],[1,"whitespace-nowrap","px-6","py-4","text-left"],[1,"btn","btn-sm","btn-outline-success"],["type","submit",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){if(e&1&&p(0,ce,2,0,"div",1)(1,fe,32,4,"ng-template",null,0,j),e&2){let g=O(2);m("ngIf",a.propietarios.length===0)("ngIfElse",g)}},dependencies:[B,v,Z,ne]})};var C=I(ee());function ge(r,n){r&1&&(i(0,"small",35),o(1," El documento es requerido. "),t())}function xe(r,n){r&1&&(i(0,"small",35),o(1," Debe tener como m\xEDnimo 5 caracteres "),t())}function be(r,n){r&1&&(i(0,"small",35),o(1," Debe tener como maximo 10 caracteres "),t())}function ye(r,n){if(r&1&&(i(0,"div"),p(1,ge,2,0,"small",34)(2,xe,2,0,"small",34)(3,be,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.documento.errors==null?null:e.propietarioForm.controls.documento.errors.required),l(),m("ngIf",e.propietarioForm.controls.documento.errors==null?null:e.propietarioForm.controls.documento.errors.minlength),l(),m("ngIf",e.propietarioForm.controls.documento.errors==null?null:e.propietarioForm.controls.documento.errors.maxlength)}}function ve(r,n){r&1&&(i(0,"p",37)(1,"span",38),o(2,"Oops!"),t(),o(3," El primer nombre es requerido! "),t())}function he(r,n){if(r&1&&(i(0,"div"),p(1,ve,4,0,"p",36),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.primerNombre.errors==null?null:e.propietarioForm.controls.primerNombre.errors.required)}}function _e(r,n){r&1&&(i(0,"small",35),o(1," El primer apellido es requerido. "),t())}function ke(r,n){if(r&1&&(i(0,"div"),p(1,_e,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.primerApellido.errors==null?null:e.propietarioForm.controls.primerApellido.errors.required)}}function Ee(r,n){r&1&&(i(0,"small",35),o(1," El email es requerido. "),t())}function Se(r,n){r&1&&(i(0,"small",35),o(1," El formato del email no es valido. "),t())}function Ce(r,n){if(r&1&&(i(0,"div"),p(1,Ee,2,0,"small",34)(2,Se,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.email.errors==null?null:e.propietarioForm.controls.email.errors.required),l(),m("ngIf",e.propietarioForm.controls.email.errors==null?null:e.propietarioForm.controls.email.errors.pattern)}}function Pe(r,n){r&1&&(i(0,"small",35),o(1," La fecha es requerida. "),t())}function we(r,n){if(r&1&&(i(0,"div"),p(1,Pe,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.ingreso.errors==null?null:e.propietarioForm.controls.ingreso.errors.required)}}function Fe(r,n){r&1&&(i(0,"small",35),o(1," El n\xFAmero celular es requerido. "),t())}function Ae(r,n){r&1&&(i(0,"small",35),o(1," El formato del n\xFAmero celular no es valido. "),t())}function Ie(r,n){r&1&&(i(0,"small",35),o(1," Maximo 10 caracteres "),t())}function Ne(r,n){if(r&1&&(i(0,"div"),p(1,Fe,2,0,"small",34)(2,Ae,2,0,"small",34)(3,Ie,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.telefono.errors==null?null:e.propietarioForm.controls.telefono.errors.required),l(),m("ngIf",e.propietarioForm.controls.telefono.errors==null?null:e.propietarioForm.controls.telefono.errors.pattern),l(),m("ngIf",e.propietarioForm.controls.telefono.errors==null?null:e.propietarioForm.controls.telefono.errors.maxlength)}}function Te(r,n){r&1&&(i(0,"small",35),o(1," La direcci\xF3n es requerida. "),t())}function Le(r,n){if(r&1&&(i(0,"div"),p(1,Te,2,0,"small",34),t()),r&2){let e=s();l(),m("ngIf",e.propietarioForm.controls.direccion.errors==null?null:e.propietarioForm.controls.direccion.errors.required)}}var P=class r{constructor(n,e){this.propietarioService=n;this.router=e}fb=N(X);vl=U;ngOnInit(){oe({Ripple:ie,Input:re})}propietarioForm=this.fb.group({id:[0],documento:["",[this.vl.required,this.vl.minLength(5),this.vl.maxLength(10)]],primerNombre:["",[this.vl.required]],segundoNombre:[""],primerApellido:["",[this.vl.required]],segundoApellido:[""],email:["",[this.vl.required,this.vl.pattern(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)]],telefono:["",[this.vl.required,this.vl.maxLength(10),this.vl.pattern(/^[3][0-9]{1,9}$/)]],direccion:["",[this.vl.required]],ingreso:["",[this.vl.required]]});get currentPropietario(){return this.propietarioForm.value}onSubmit(){if(this.propietarioForm.invalid){C.default.fire({icon:"error",title:"Oops...",text:"Debes diligenciar todos los campos!"});return}this.currentPropietario.id&&this.propietarioService.updatePropietario(this.currentPropietario).subscribe({next:()=>{this.router.navigateByUrl("/dashboard/propietario/list-propietarios"),C.default.fire({title:"Actualizado propietario!",text:"Propietario actualizado con exito!",icon:"success"})}}),this.propietarioService.addPropietario(this.currentPropietario).subscribe({next:()=>{this.router.navigateByUrl("/dashboard/propietario/list-propietarios"),C.default.fire({title:"Nuevo propietario!",text:"Creado con exito!",icon:"success"})}})}onReset(){this.propietarioForm.reset()}static \u0275fac=function(e){return new(e||r)(u(_),u(h))};static \u0275cmp=f({type:r,selectors:[["propietario-add-propietario"]],decls:59,vars:8,consts:[[1,"bg-white","p-6","shadow-4","dark:bg-gray-900","mx-auto","block","max-w-lm","rounded-lg"],[1,"py-8","px-4","mx-auto","max-w-2xl","lg:py-16"],[1,"mb-4","text-xl","font-bold","text-gray-900","dark:text-white"],[3,"ngSubmit","formGroup"],[1,"grid","gap-4","sm:grid-cols-2","sm:gap-6"],[1,"sm:col-span-2"],["for","documento",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","documento","type","text","name","documento","id","documento",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[4,"ngIf"],[1,"w-full"],["for","primerNombre",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","primerNombre","type","text","name","primerNombre","id","primerNombre",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","segundoNombre",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","segundoNombre","type","text","name","segundoNombre","id","segundoNombre",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","primerApellido",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","primerApellido","type","text","name","primerApellido","id","primerApellido",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","segundoApellido",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","segundoApellido","type","text","name","segundoApellido","id","segundoApellido",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","email-address-icon",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"relative"],[1,"absolute","inset-y-0","start-0","flex","items-center","ps-3.5","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 16",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["d","m10.036 8.278 9.258-7.79A1.979 1.979 0 0 0 18 0H2A1.987 1.987 0 0 0 .641.541l9.395 7.737Z"],["d","M11.241 9.817c-.36.275-.801.425-1.255.427-.428 0-.845-.138-1.187-.395L0 2.6V14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2.5l-8.759 7.317Z"],["formControlName","email","name","email","type","email","id","email","placeholder","name@flowbite.com",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","ps-10","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","ingreso",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-gray-300"],["formControlName","ingreso","name","ingreso","type","date","id","ingreso",1,"shadow-sm","bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500","dark:shadow-sm-light"],["for","telefono",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","telefono","type","text","name","telefono","id","telefono",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],["for","direccion",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","direccion","type","text","name","direccion","id","direccion",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[1,"d-flex","justify-content-between"],["type","submit",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800","m-2"],["type","reset",1,"inline-flex","items-center","px-5","py-2.5","mt-4","sm:mt-6","text-sm","font-medium","text-center","text-white","bg-primary-700","rounded-lg","focus:ring-4","focus:ring-primary-200","dark:focus:ring-primary-900","hover:bg-primary-800",3,"click"],["Class","form -text text-danger",4,"ngIf"],["Class","form -text text-danger"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(e,a){e&1&&(i(0,"section",0)(1,"div",1)(2,"h2",2),o(3,"Agregar Nuevo Propietario"),t(),i(4,"form",3),x("ngSubmit",function(){return a.onSubmit()}),i(5,"div",4)(6,"div",5)(7,"label",6),o(8,"Documeto de Identidad"),t(),d(9,"input",7),p(10,ye,4,3,"div",8),t(),i(11,"div",9)(12,"label",10),o(13,"Primer Nombre"),t(),d(14,"input",11),p(15,he,2,1,"div",8),t(),i(16,"div",9)(17,"label",12),o(18,"Segundo Nombre"),t(),d(19,"input",13),t(),i(20,"div",9)(21,"label",14),o(22,"Primer Apellido"),t(),d(23,"input",15),p(24,ke,2,1,"div",8),t(),i(25,"div",9)(26,"label",16),o(27,"Segundo Apellido"),t(),d(28,"input",17),t(),i(29,"div",9)(30,"label",18),o(31," Email"),t(),i(32,"div",19)(33,"div",20),q(),i(34,"svg",21),d(35,"path",22)(36,"path",23),t()(),D(),d(37,"input",24),p(38,Ce,3,2,"div",8),t()(),i(39,"div",9)(40,"label",25),o(41,"Fecha de Ingreso"),t(),d(42,"input",26),p(43,we,2,1,"div",8),t(),i(44,"div",9)(45,"label",27),o(46,"N\xFAmero Celular"),t(),d(47,"input",28),p(48,Ne,4,3,"div",8),t(),i(49,"div",9)(50,"label",29),o(51,"Direcci\xF3n"),t(),d(52,"input",30),p(53,Le,2,1,"div",8),t()(),i(54,"div",31)(55,"button",32),o(56," Agregar "),t(),i(57,"button",33),x("click",function(){return a.onReset()}),o(58," Limpiar "),t()()()()()),e&2&&(l(4),m("formGroup",a.propietarioForm),l(6),m("ngIf",a.propietarioForm.controls.documento.invalid&&(a.propietarioForm.controls.documento.dirty||a.propietarioForm.controls.documento.touched)),l(5),m("ngIf",a.propietarioForm.controls.primerNombre.invalid&&(a.propietarioForm.controls.primerNombre.dirty||a.propietarioForm.controls.primerNombre.touched)),l(9),m("ngIf",a.propietarioForm.controls.primerApellido.invalid&&(a.propietarioForm.controls.primerApellido.dirty||a.propietarioForm.controls.primerApellido.touched)),l(14),m("ngIf",a.propietarioForm.controls.email.invalid&&(a.propietarioForm.controls.email.dirty||a.propietarioForm.controls.email.touched)),l(5),m("ngIf",a.propietarioForm.controls.ingreso.invalid&&(a.propietarioForm.controls.ingreso.dirty||a.propietarioForm.controls.ingreso.touched)),l(5),m("ngIf",a.propietarioForm.controls.telefono.invalid&&(a.propietarioForm.controls.telefono.dirty||a.propietarioForm.controls.telefono.touched)),l(5),m("ngIf",a.propietarioForm.controls.direccion.invalid&&(a.propietarioForm.controls.direccion.dirty||a.propietarioForm.controls.direccion.touched)))},dependencies:[v,J,$,H,W,K,Q]})};var qe=[{path:"",component:k},{path:"list-propietarios",component:S},{path:"add-propietarios",component:P},{path:"**",redirectTo:"home"}],w=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=b({imports:[F.forChild(qe),F]})};var me=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=y({type:r});static \u0275inj=b({imports:[V,w,Y,te]})};export{me as PropietarioModule};
